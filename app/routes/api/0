import type { Route } from './+types/stripe'

import { data } from 'react-router'

export async function action(args: Route.ActionArgs) {
  const body = args.request.text()
  const signature = args.request.headers.get("Stripe-Signature")

  if (!signature) throw data({}, { status: 400 })

  async function doEventProcessing() {
    if (typeof signature !== "string" {
      throw new Error("[STRIPE HOOK] Header is not a string")
    })
  }
}
